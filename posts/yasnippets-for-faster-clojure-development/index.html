<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Practicalli: YASnippets for faster clojure coding</title>
    <link rel="canonical" href="http://practical.li/blog/posts/yasnippets-for-faster-clojure-development/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://fonts.googleapis.com/css?family=Ubuntu|Ubuntu+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/styles/default.min.css">
    <link rel="icon" type="image/x-icon" href="https://raw.githubusercontent.com/practicalli/graphic-design/live/logos/practicalli-logo-bullet.png">
    <link href="/blog/css/screen.css" rel="stylesheet" type="text/css" />
</head>
<body>


<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="/blog/">
              <img src="https://raw.githubusercontent.com/practicalli/graphic-design/live/logos/practicalli-logo-name-white.svg" alt="Practicalli logo" />
            </a>
        </div>

        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li ><a href="/blog/">Home</a></li>
                <li
                ><a href="/blog/archives/">Archives</a></li>
                
                <li
                >
                <a href="/blog/pages/about/">About</a>
                </li>
                
                <li><a href="/blog/feed.xml">RSS</a></li>
                <li><a href="https://github.com/practicalli/blog-content/projects/1">Feedback</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
</nav>


<div class="container">


    <div class="row">
        <div class="col-lg-9">
            <div id="content">
                
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">July 23, 2016</div>
        
    </div>
    <h2>YASnippets for faster clojure coding</h2>

    <!-- conditional topic logo displayed if :topic has value in a post -->
    
    <img class="topic" src="https://raw.githubusercontent.com/practicalli/graphic-design/live/topic-images/spacemacs-logo-name.png" alt="spacemacs logo - post topic" />
    
</div>
<div>
    
    <p>Yasnippets minimise typing for commonly used Clojure forms and documentation structures, or any other text regularly created. Yasnippets have placeholders that allow jumping (tabbing) to points in the snippet, so specific text can be added to the more generic text of the snippet.</p><p>Emacs YASnippet package uses <a href="https://github.com/AndreaCrotti/yasnippet-snippets" title="Yasnippet official snippet collections">mode-specific snippets</a> that expand to anything from a simple text replacement to an intricate code block structure using placeholders to add specific values to the general form.</p><p>See YASnippet in action in this <a href="https://www.youtube.com/watch?v=-4O-ZYjQxks">Emacs Yasnippet video</a>.</p><p><a href="/blog/posts/writing-custom-snippets-for-yasnippets/">Add custom snippets</a> for Clojure or any other language you use with Spacemacs / Emacs</p><blockquote><p>Additional ways to speed up typing Clojure code include creating projects from templates or general abbreviations with <a href="http://ergoemacs.org/emacs/emacs_abbrev_mode.html">Emacs Abbrev mode</a><a href="https://clojure-lsp.io/features/#snippets" title="Clojure LSP website">Snippets are also part of Clojure LSP</a> and can be used with any supporting editor.</p></blockquote><!-- more --><h2 id="using-snippets">Using snippets</h2><p>Start typing the snippet name and press <code>M-/</code> to <code>yas-expand</code> which replaces the name with the full text of the snippet.</p><p>Type <code>defn</code> and press <code>M-/</code> to expand to the code of a function definition form.  Use <code>TAB</code> to move through the placeholders to complete the name, doc-string, arguments and body of the function.</p><blockquote><p>Smartparens is disabled when tabbing through a snippet</p></blockquote><h2 id="list-snippets-for-current-major-mode">List snippets for current major mode</h2><p><code>SPC i s</code> (<code>helm-yas</code>) displays a completion buffer that lists the matching snippets available for the current major mode.</p><p><code>C-j</code> and <code>C-k</code> to navigate the list and <code>RET</code> to insert and expand the snippet.</p><p><img src="https://raw.githubusercontent.com/practicalli/graphic-design/live/spacemacs/screenshots/spacemacs-snippets-helm-yas-clojure-mode.png" alt="yasnippets yas-helm for clojure mode" /></p><h2 id="add-snippets-to-completion-menu">Add snippets to completion menu</h2><p>The auto-completion layer shows a completion popup menu, with matching functions and other names from the REPL or Clojure LSP (clj-kondo). Configure the <code>auto-completion</code> layer to show YASnippets when typing.</p><p>Add the <code>auto-completion-enable-snippets-in-popup</code> variable to show snippets in the auto-completion popup.</p><p>Add <code>auto-completion-enable-sort-by-usage</code> to show the most commonly used snippets first in the list.</p><pre><code class="lisp">(auto-completion :variables
                 auto-completion-enable-snippets-in-popup t
                 auto-completion-enable-sort-by-usage t)
</code></pre><p>Matching snippets will now appear in the completion menu whilst typing</p><p><img src="https://raw.githubusercontent.com/practicalli/graphic-design/live/spacemacs/screenshots/spacemacs-helm-snippet-gitbook-deps-lein.png" alt="Spacemacs helm snippet gitbook example" /></p><h2 id="default-snippets-for-clojure">Default snippets for Clojure</h2><p>The snippets available in Spacemacs can be found in the <a href="https://github.com/AndreaCrotti/yasnippet-snippets">yasnippet github repository</a>.</p><p><code>defn</code>, <code>require</code>, <code>let</code>, <code>ifl</code> and <code>for</code> are often used by Practicalli.</p><blockquote><p>NOTE: The <code>test</code> snippet generates a <code>deftest</code> form which by convention uses a name post-fixed with <code>-test</code>.  Pressing <code>TAB</code> after <code>test</code> will expand that word into another deftest form within the current deftest form.</p><p>Press space after the <code>-test</code> name to prevent <code>test</code> being expanded to a <code>deftest</code> form.</p></blockquote><p>The <a href="https://github.com/AndreaCrotti/yasnippet-snippets/tree/master/snippets/clojure-mode">current snippets for Clojure mode</a> are in the following table, indicating which tab stops they have.  <a href="https://github.com/mpenet/clojure-snippets">mpenet/clojure-snippets</a> includes several additional Clojure snippets (although are not part of yasnippets by default).</p><table><thead><tr><th>Snippet</th><th>Description</th><th>Tab Stops</th></tr></thead><tbody><tr><td>bench</td><td>benchmark an expression, using the <code>time</code> function</td><td>body</td></tr><tr><td>def</td><td><code>def</code> expression</td><td>N/A</td></tr><tr><td>defm</td><td><code>defmacro</code> expression, with name, doc-string, arguments &amp; body tabstops</td><td>name, docstring, args, body</td></tr><tr><td>defn</td><td><code>defn</code> expression, with name, doc-string, arguments &amp; body tabstops</td><td>name, docstring, args, body</td></tr><tr><td>fn</td><td><code>fn</code> - anonymous function</td><td>name, body</td></tr><tr><td>for</td><td><code>for</code></td><td>condition, body</td></tr><tr><td>if</td><td><code>if</code></td><td>condition, body</td></tr><tr><td>ifl</td><td><code>if-let</code> - if true, bind a local name</td><td>binding, body</td></tr><tr><td>import</td><td><code>import</code> java library</td><td>library name</td></tr><tr><td>is</td><td><code>is</code> - clojure test assertion</td><td>value, expected</td></tr><tr><td>let</td><td><code>let</code> - bind a local name to a value</td><td>name, value, body</td></tr><tr><td>map</td><td><code>map</code></td><td>fn, col, col</td></tr><tr><td>map.lambda</td><td><code>map</code> with anonymous function <code>#()</code></td><td>fn, body</td></tr><tr><td>mdoc</td><td>metadata docstring</td><td>docstring</td></tr><tr><td>ns</td><td><code>ns</code> - expression with the current namespace inserted automatically</td><td>N/A</td></tr><tr><td>opts</td><td><a href="http://clojure.org/guides/destructuring">destructure</a> map with <code>:keys</code>, <code>:or</code> for default values, <code>:as</code> for arg vector</td><td>:key binding, or defaults, :as binding</td></tr><tr><td>pr</td><td><code>prn</code> - print function</td><td>string/value</td></tr><tr><td>print</td><td><code>println</code> - print function</td><td>string/value</td></tr><tr><td>reduce</td><td><code>reduce</code> - reduce expression with an anonymous function</td><td>args, body</td></tr><tr><td>require</td><td><code>:require</code> expression with library and alias</td><td>library, alias</td></tr><tr><td>test</td><td><code>deftest</code> expression (not including testing part of a deftest expression)</td><td>test description, value/expected</td></tr><tr><td>try</td><td><code>try</code> &amp; <code>catch</code> expression</td><td>try expression, exception name, body</td></tr><tr><td>use</td><td>depreciated: use require instead</td><td> </td></tr><tr><td>when</td><td><code>when</code></td><td>when expression, body</td></tr><tr><td>whenl</td><td><code>when-let</code> - local binding on when condition</td><td>binding, body</td></tr></tbody></table><h2 id="summary">Summary</h2><p>Have fun speeding up the writing of your Clojure code (and any other common text structures) in <a href="https://spacemacs.org">Spacemacs</a> / <a href="https://www.gnu.org/software/emacs/">Emacs</a>.</p><p>Consider <a href="/blog/posts/writing-custom-snippets-for-yasnippets/">writing custom snippets</a> to extend those available via Yasnippets.</p><blockquote><p>Article originally published on <a href="https://jr0cket.co.uk/">jr0cket.co.uk</a> and has been migrated to <a href="https://practical.li/blog/">practical.li/blog</a> with some minor updates.</p></blockquote><p>Thank you</p><p><a href="https://github.com/practicalli">practicalli GitHub profile</a> I <a href="https://twitter.com/practcial_li">@practical_li</a></p>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/blog/tags/emacs/">emacs</a>
    
    <a href="/blog/tags/snippets/">snippets</a>
    
    <a href="/blog/tags/spacemacs/">spacemacs</a>
    
</div>


    <div id="prev-next">
        
        <a href="/blog/posts/testing-live-coding/">&laquo; Testing Klipse Integration</a>
        
        
        <a class="right" href="/blog/posts/writing-custom-snippets-for-yasnippets/">Writing custom snippets for yasnippet &raquo;</a>
        
    </div>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_config = function () {
            this.page.url = "http://practical.li/blog/posts/yasnippets-for-faster-clojure-development/";
            this.page.identifier = "YASnippets for faster clojure coding";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//practicalli-blog.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    


</div>

            </div>
        </div>

        <div class="col-md-3">
            <div id="sidebar">
                <h3>Links</h3>
                <ul id="links">
                    <li><a href="http://practical.li/">Practicalli Home</a></li>
                    <li><a href="http://youtube.com/practicalli">YouTube channel</a></li>
                    <li><a href="https://github.com/practicalli/blog-content/projects/1">Feeback / Issues</a></li>
                    
                    <li><a href="/blog/pages/contributing/">Contributing</a></li>
                    
                </ul>
                
                <div id="recent">
                    <h3>Recent Posts</h3>
                    <ul>
                        
                        <li><a href="/blog/posts/access-aws-with-clojure-from-scratch/">Accessing AWS with Clojure from scratch - simple approach</a></li>
                        
                        <li><a href="/blog/posts/docker-a-simple-workflow-for-clojure/">Docker: a simple workflow for Clojure</a></li>
                        
                        <li><a href="/blog/posts/docker-desktop-on-ubuntu-linux/">Docker Desktop on Ubuntu Linux</a></li>
                        
                        <li><a href="/blog/posts/docker-compose-for-clojure-development/">Docker Compose for Clojure Development</a></li>
                        
                        <li><a href="/blog/posts/practicalli-plans-2023/">Practicalli future plans</a></li>
                        
                        <li><a href="/blog/posts/create-deps-new-template-for-clojure-cli-projects/">Create deps-new templates for Clojure CLI projects</a></li>
                        
                        <li><a href="/blog/posts/build-emacs-from-source-on-ubuntu-linux/">Build Emacs from source on Ubuntu Linux</a></li>
                        
                        <li><a href="/blog/posts/london-clojurians-community-a-brief-history/">London Clojurians Community - a relatively brief history</a></li>
                        
                        <li><a href="/blog/posts/build-and-run-clojure-with-multistage-dockerfile/">Build and run Clojure with Multi-stage Dockerfile</a></li>
                        
                    </ul>
                </div>
                
                
                <div id="tags">
                    <h3>Tags</h3>
                    <ul>
                        
                        <li><a href="/blog/tags/json/">json</a></li>
                        
                        <li><a href="/blog/tags/ring/">ring</a></li>
                        
                        <li><a href="/blog/tags/very%20fetch/">very fetch</a></li>
                        
                        <li><a href="/blog/tags/ubuntu/">ubuntu</a></li>
                        
                        <li><a href="/blog/tags/lsp/">lsp</a></li>
                        
                        <li><a href="/blog/tags/cryogen/">cryogen</a></li>
                        
                        <li><a href="/blog/tags/practicalli/">practicalli</a></li>
                        
                        <li><a href="/blog/tags/makefile/">makefile</a></li>
                        
                        <li><a href="/blog/tags/neovim/">neovim</a></li>
                        
                        <li><a href="/blog/tags/aliases/">aliases</a></li>
                        
                        <li><a href="/blog/tags/challenges/">challenges</a></li>
                        
                        <li><a href="/blog/tags/github/">github</a></li>
                        
                        <li><a href="/blog/tags/clojure/">clojure</a></li>
                        
                        <li><a href="/blog/tags/httpkit/">httpkit</a></li>
                        
                        <li><a href="/blog/tags/aws/">aws</a></li>
                        
                        <li><a href="/blog/tags/webapps/">webapps</a></li>
                        
                        <li><a href="/blog/tags/clojure-cli/">clojure-cli</a></li>
                        
                        <li><a href="/blog/tags/pull-requests/">pull-requests</a></li>
                        
                        <li><a href="/blog/tags/editors/">editors</a></li>
                        
                        <li><a href="/blog/tags/java/">java</a></li>
                        
                        <li><a href="/blog/tags/tools-deps/">tools-deps</a></li>
                        
                        <li><a href="/blog/tags/hardware/">hardware</a></li>
                        
                        <li><a href="/blog/tags/make/">make</a></li>
                        
                        <li><a href="/blog/tags/cider/">cider</a></li>
                        
                        <li><a href="/blog/tags/emacs/">emacs</a></li>
                        
                        <li><a href="/blog/tags/clj-http/">clj-http</a></li>
                        
                        <li><a href="/blog/tags/calva/">calva</a></li>
                        
                        <li><a href="/blog/tags/snippets/">snippets</a></li>
                        
                        <li><a href="/blog/tags/clojure-lsp/">clojure-lsp</a></li>
                        
                        <li><a href="/blog/tags/thinkpad/">thinkpad</a></li>
                        
                        <li><a href="/blog/tags/events/">events</a></li>
                        
                        <li><a href="/blog/tags/community/">community</a></li>
                        
                        <li><a href="/blog/tags/advent-of-parens/">advent-of-parens</a></li>
                        
                        <li><a href="/blog/tags/spacemacs/">spacemacs</a></li>
                        
                        <li><a href="/blog/tags/docker/">docker</a></li>
                        
                        <li><a href="/blog/tags/cognitect-labs/">cognitect-labs</a></li>
                        
                        <li><a href="/blog/tags/help/">help</a></li>
                        
                        <li><a href="/blog/tags/transducers/">transducers</a></li>
                        
                        <li><a href="/blog/tags/lenovo/">lenovo</a></li>
                        
                        <li><a href="/blog/tags/reduce/">reduce</a></li>
                        
                        <li><a href="/blog/tags/compojure/">compojure</a></li>
                        
                        <li><a href="/blog/tags/klipse/">klipse</a></li>
                        
                        <li><a href="/blog/tags/figwheel-main/">figwheel-main</a></li>
                        
                        <li><a href="/blog/tags/clojure-core/">clojure-core</a></li>
                        
                        <li><a href="/blog/tags/web-scraper/">web-scraper</a></li>
                        
                        <li><a href="/blog/tags/blogging/">blogging</a></li>
                        
                        <li><a href="/blog/tags/conjure/">conjure</a></li>
                        
                        <li><a href="/blog/tags/github-actions/">github-actions</a></li>
                        
                        <li><a href="/blog/tags/apis/">apis</a></li>
                        
                        <li><a href="/blog/tags/jvm/">jvm</a></li>
                        
                        <li><a href="/blog/tags/static-sites/">static-sites</a></li>
                        
                        <li><a href="/blog/tags/re-clojure/">re-clojure</a></li>
                        
                        <li><a href="/blog/tags/packages/">packages</a></li>
                        
                    </ul>
                </div>
                
            </div>
        </div>
    </div>
    <footer>
      Copyright &copy; 2023 Practicalli
      <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p>

      <license id="license">
        <div>
          <p>This work is licensed under a <a href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution 4.0 ShareAlike License</a>, including custom images & stylesheets.</p>
          <p>Permissions beyond the scope of this license may be available by contacting <a xmlns:cc="http://creativecommons.org/ns#" href="https://twitter.com/practical_li" rel="cc:morePermissions">@practical_li</a></p>
          <br>
          <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a>
        </div>
      </license>

    </footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/blog/js/highlight.pack.js" type="application/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>


</body>
</html>
